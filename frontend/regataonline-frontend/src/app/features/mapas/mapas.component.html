<div class="row g-3">
  <div class="col-lg-6">
    <div class="card">
      <div class="card-header d-flex justify-content-between">
        <span>Editor de Mapas</span>
        <a routerLink="/dashboard" class="btn btn-secondary btn-sm">Dashboard</a>
      </div>
      <div class="card-body">

        @if (mapa(); as m) {
          <div
            class="grid border p-2 rounded"
            [style.--w]="m.ancho"
          >
            @for (y of filas(); track y) {
              <div class="d-flex">
                @for (x of columnas(); track x) {
                  <div
                    class="cell"
                    [ngClass]="'cell-' + getTipoCelda(x, y).toLowerCase()"
                    (click)="onCellClick(x, y)"
                  ></div>
                }
              </div>
            }
          </div>
        }

      </div>
    </div>
  </div>

  <div class="col-lg-3">
    <div class="card">
      <div class="card-header">Herramientas</div>
      <div class="card-body d-flex flex-column gap-2">
        <button class="btn btn-primary" (click)="setTool('AGUA')">ğŸ’§ Agua</button>
        <button class="btn btn-dark" (click)="setTool('PARED')">ğŸ§± Pared</button>
        <button class="btn btn-success" (click)="setTool('PARTIDA')">ğŸŸ¢ Partida</button>
        <button class="btn btn-danger" (click)="setTool('META')">ğŸ Meta</button>
        <hr>
        <button class="btn btn-success" (click)="guardar()">ğŸ’¾ Guardar Mapa</button>
      </div>
    </div>
  </div>

  <div class="col-lg-3">
    <div class="card">
      <div class="card-header">Dimensiones</div>
      <div class="card-body">
        @if (mapa(); as m) {
          <p>Ancho: {{ m.ancho }}</p>
          <p>Alto: {{ m.alto }}</p>
        }
      </div>
    </div>
  </div>
</div>
